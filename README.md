# ComfyUI-QING：解锁ComfyUI媒体处理新可能

ComfyUI-QING 是一款为 ComfyUI 量身打造的全能扩展节点集，专注于打破图像、文本、SVG 与视频处理的边界，让复杂媒体工作流变得简单高效。无论是创意设计、动画制作还是批量媒体处理，都能为你提供精准且强大的工具支持。


## ✨ 核心亮点

- **全链路 SVG 处理**：从加载到转换，一站式搞定 SVG 素材的全流程管理，完美适配图像生成工作流。
- **精细化遮罩操作**：智能拆分复杂遮罩、多策略缩放，轻松处理含文字的精细遮罩任务。
- **灵活文本交互**：支持多组文本对比与条件判断，让工作流根据文本内容智能分支。
- **专业视频合成**：覆盖多种格式（mp4/webm/avi/gif等）与编码器（H.264/H.265/AV1等），高质量合成序列帧与动画。


## 🚀 功能模块详解

### 1. SVG 全流程解决方案
- **精准加载**：通过 `LoadSVG` 节点直接读取本地 SVG 文件，支持绝对/相对路径，自动校验格式有效性。
- **多格式兼容**：`CustomLoadImageWithFormat` 节点统一处理 PNG/JPG/SVG 等格式，同步输出图像、遮罩与元信息。
- **高质量转换**：`SVGToImage` 节点实现 SVG 到 PNG/JPG 的无损转换，支持自定义尺寸、缩放策略（长边/短边/像素数）、插值方法与背景色。


### 2. 遮罩高级处理工具
- **智能拆分**：`MaskSplitterPro` 节点擅长保持文字组件完整性，提供自动分组与激进合并模式，轻松拆解复杂遮罩。
- **灵活缩放**：`MaskScale` 节点支持按宽度/高度/长边/短边/总像素数缩放，搭配 nearest/bilinear/lanczos 等插值算法，细节无损。


### 3. 文本与视频处理能力
- **文本比较**：`TextCompare` 节点支持 3 组文本对比，可配置大小写敏感模式，输出精准匹配结果，适配条件分支场景。
- **视频合成**：支持 mp4/webm/avi/mov/gif/mkv/flv 等格式，内置 H.264/H.265/AV1/ProRes 等编码器，可自定义压缩率与质量参数。


## 🎯 适用场景

- 图像生成中需集成 SVG 素材的设计工作流
- 含文字元素的复杂遮罩拆分与精细化调整
- 基于文本匹配的条件分支逻辑（如内容审核、模板切换）
- 序列帧转视频、动画合成等视频创作场景


## 🛠️ 快速开始

1. 克隆本仓库至 ComfyUI 的 `custom_nodes` 目录
2. 安装依赖：`pip install -r requirements.txt`
3. 重启 ComfyUI，节点将自动加载（分类：「自定义节点」「image」等）


## 📦 依赖说明

- 图像处理：numpy、opencv-python、scipy、scikit-image
- 格式转换：Pillow、cairosvg
- 张量运算：torch


让 ComfyUI-QING 成为你的媒体处理利器，简化流程，释放创意！欢迎提交 Issues 或 PR 参与共建 🌟
