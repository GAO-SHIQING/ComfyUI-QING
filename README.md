# ğŸ¨ ComfyUI-QINGï¼šè§£é”ComfyUIåª’ä½“å¤„ç†å…¨åœºæ™¯èƒ½åŠ›  
[English](#english-intro)  

![ComfyUI-QING Banner](https://picsum.photos/seed/qing/1200/300)  

ä¸€æ¬¾ä¸ºComfyUIé‡èº«æ‰“é€ çš„ã€Œå…¨èƒ½åª’ä½“å¤„ç†æ‰©å±•ã€ï¼Œè®©å›¾åƒã€SVGã€æ–‡æœ¬ã€è§†é¢‘çš„å¤æ‚å·¥ä½œæµå˜å¾—ç®€å•é«˜æ•ˆã€‚æ— è®ºæ˜¯åˆ›æ„è®¾è®¡ã€åŠ¨ç”»åˆ¶ä½œè¿˜æ˜¯æ‰¹é‡å¤„ç†ï¼Œéƒ½èƒ½æä¾›ç²¾å‡†å·¥å…·é“¾æ”¯æŒï¼Œé‡Šæ”¾ä½ çš„åˆ›ä½œæ½œèƒ½ã€‚  


## âœ¨ æ ¸å¿ƒäº®ç‚¹  
- **SVGå…¨é“¾è·¯è§£å†³æ–¹æ¡ˆ**  
  ä»æœ¬åœ°æ–‡ä»¶åŠ è½½åˆ°é«˜è´¨é‡æ ¼å¼è½¬æ¢ï¼Œä¸€ç«™å¼æå®šSVGç´ æçš„å…¨æµç¨‹ç®¡ç†ï¼Œå®Œç¾é€‚é…å›¾åƒç”Ÿæˆå·¥ä½œæµã€‚  

- **ç²¾ç»†åŒ–é®ç½©å·¥ç¨‹**  
  æ™ºèƒ½æ‹†åˆ†å«æ–‡å­—/å›¾å½¢çš„å¤æ‚é®ç½©ï¼Œæ”¯æŒå¤šç­–ç•¥ç¼©æ”¾ï¼ˆæŒ‰é•¿è¾¹/çŸ­è¾¹/åƒç´ æ•°ç­‰ï¼‰ï¼Œç»†èŠ‚æ— æŸä¿ç•™ã€‚  

- **æ–‡æœ¬äº¤äº’å¼•æ“**  
  å¤šç»„æ–‡æœ¬å¯¹æ¯”ä¸æ¡ä»¶åˆ¤æ–­ï¼Œè®©å·¥ä½œæµæ ¹æ®å†…å®¹æ™ºèƒ½åˆ†æ”¯ï¼Œè½»æ¾å®ç°æ¨¡æ¿åˆ‡æ¢ã€å†…å®¹å®¡æ ¸ç­‰åœºæ™¯ã€‚  

- **ä¸“ä¸šçº§è§†é¢‘åˆæˆ**  
  è¦†ç›–mp4/webm/avi/gif/mkv/flvç­‰æ ¼å¼ï¼Œå†…ç½®H.264/H.265/AV1/ProResç­‰ç¼–ç å™¨ï¼Œè‡ªå®šä¹‰å‹ç¼©ç‡ä¸è´¨é‡å‚æ•°ã€‚  


## ğŸ¯ é€‚ç”¨åœºæ™¯  
- **åˆ›æ„è®¾è®¡å·¥ä½œæµ**ï¼šé›†æˆSVGç´ æåˆ°å›¾åƒç”Ÿæˆï¼Œå®ç°çŸ¢é‡å›¾ä¸åƒç´ å›¾çš„æ— ç¼è¡”æ¥ã€‚  
- **ç²¾ç»†é®ç½©å¤„ç†**ï¼šæ‹†åˆ†å«æ–‡å­—çš„å¤æ‚é®ç½©ï¼Œç”¨äºå›¾åƒç¼–è¾‘ã€åŒºåŸŸæ›¿æ¢ç­‰åœºæ™¯ã€‚  
- **æ™ºèƒ½æ–‡æœ¬åˆ†æ”¯**ï¼šåŸºäºæ–‡æœ¬åŒ¹é…ç»“æœè‡ªåŠ¨åˆ‡æ¢å·¥ä½œæµï¼ˆå¦‚å®¡æ ¸åˆè§„å†…å®¹ã€é€‰æ‹©å¯¹åº”æ¨¡æ¿ï¼‰ã€‚  
- **è§†é¢‘åˆ›ä½œ pipeline**ï¼šåºåˆ—å¸§åˆæˆåŠ¨ç”»ã€å¤šæ ¼å¼å¯¼å‡ºã€ç¼–ç å™¨ä¼˜åŒ–ï¼Œæ»¡è¶³ä»è‰ç¨¿åˆ°å‘å¸ƒçš„å…¨éœ€æ±‚ã€‚  


## ğŸ› ï¸ åŠŸèƒ½æ¨¡å—è¯¦è§£  
### 1. SVGå…¨æµç¨‹å·¥å…·é“¾  

| èŠ‚ç‚¹åç§° | æ ¸å¿ƒåŠŸèƒ½ |  
|---------|---------|  
| `åŠ è½½SVG` | è¯»å–æœ¬åœ°SVGæ–‡ä»¶ï¼ˆæ”¯æŒç»å¯¹/ç›¸å¯¹è·¯å¾„ï¼‰ï¼Œè‡ªåŠ¨æ ¡éªŒæ ¼å¼æœ‰æ•ˆæ€§ï¼Œè¾“å‡ºåŸå§‹SVGå†…å®¹ã€‚ |  
| `åŠ è½½å›¾åƒï¼ˆæ”¯æŒSVGï¼‰` | ç»Ÿä¸€å¤„ç†PNG/JPG/SVGç­‰æ ¼å¼ï¼ŒåŒæ­¥è¾“å‡ºå›¾åƒã€é®ç½©ä¸å…ƒä¿¡æ¯ï¼Œç®€åŒ–å¤šæ ¼å¼ç´ æç®¡ç†ã€‚ |  
| `SVGåˆ°å›¾åƒ` | å®ç°SVGåˆ°PNG/JPGçš„æ— æŸè½¬æ¢ï¼Œæ”¯æŒè‡ªå®šä¹‰å°ºå¯¸ã€ç¼©æ”¾ç­–ç•¥ï¼ˆé•¿è¾¹/çŸ­è¾¹/åƒç´ æ•°ï¼‰ã€æ’å€¼æ–¹æ³•ä¸èƒŒæ™¯è‰²ã€‚ |  


### 2. é®ç½©é«˜çº§å¤„ç†å¥—ä»¶  
| èŠ‚ç‚¹åç§° | æ ¸å¿ƒåŠŸèƒ½ |  
|---------|---------|  
| `æ‹†åˆ†é®ç½©` | æ™ºèƒ½æ‹†åˆ†å¤æ‚é®ç½©ï¼Œä¿æŒæ–‡å­—/å›¾å½¢ç»„ä»¶å®Œæ•´æ€§ï¼Œæä¾›è‡ªåŠ¨åˆ†ç»„ä¸æ¿€è¿›åˆå¹¶æ¨¡å¼ï¼Œè½»æ¾æ‹†è§£å¤šå…ƒç´ é®ç½©ã€‚ |  
| `é®ç½©ç¼©æ”¾` | æ”¯æŒæŒ‰å®½åº¦/é«˜åº¦/é•¿è¾¹/çŸ­è¾¹/æ€»åƒç´ æ•°ç¼©æ”¾ï¼Œæ­é…nearest/bilinear/lanczosç­‰æ’å€¼ç®—æ³•ï¼Œç¡®ä¿ç¼©æ”¾åç»†èŠ‚æ¸…æ™°ã€‚ |  


### 3. æ–‡æœ¬ä¸è§†é¢‘å¤„ç†å¼•æ“  
| èŠ‚ç‚¹åç§° | æ ¸å¿ƒåŠŸèƒ½ |  
|---------|---------|  
| `æ–‡æœ¬å¯¹æ¯”` | æ”¯æŒ3ç»„æ–‡æœ¬å¯¹æ¯”ï¼Œå¯é…ç½®å¤§å°å†™æ•æ„Ÿæ¨¡å¼ï¼Œè¾“å‡ºç²¾å‡†åŒ¹é…ç»“æœï¼Œé€‚é…æ¡ä»¶åˆ†æ”¯åœºæ™¯ï¼ˆå¦‚å†…å®¹è¿‡æ»¤ã€æ¨¡æ¿åˆ‡æ¢ï¼‰ã€‚ |  
| `åˆæˆè§†é¢‘` | åºåˆ—å¸§è½¬è§†é¢‘çš„ä¸“ä¸šå·¥å…·ï¼Œæ”¯æŒï¼š<br>- æ ¼å¼ï¼šmp4/webm/avi/mov/gif/mkv/flv<br>- ç¼–ç å™¨ï¼šH.264/H.265/AV1/ProRes/VP9ç­‰<br>- è‡ªå®šä¹‰å‹ç¼©ç‡ã€å¸§ç‡ã€è´¨é‡å‚æ•° |  


## ğŸš€ å¿«é€Ÿå¼€å§‹  
### å®‰è£…æ­¥éª¤  

1. å…‹éš†ä»“åº“åˆ°ComfyUIçš„`custom_nodes`ç›®å½•ï¼š  
   ```bash  
   cd ComfyUI/custom_nodes  
   git clone https://github.com/GAOSHI-QING/ComfyUI-QING.git  
   ```  

2. å®‰è£…ä¾èµ–ï¼š  
   ```bash  
   cd ComfyUI-QING  
   pip install -r requirements.txt  
   ```  

3. é‡å¯ComfyUIï¼ŒèŠ‚ç‚¹å°†è‡ªåŠ¨åŠ è½½ï¼Œå¯åœ¨ã€Œè‡ªå®šä¹‰èŠ‚ç‚¹ã€ã€Œimageã€ç­‰åˆ†ç±»ä¸­æ‰¾åˆ°ã€‚  


## ğŸ“¦ ä¾èµ–è¯´æ˜  
- å›¾åƒå¤„ç†ï¼š`numpy`ã€`opencv-python`ã€`scipy`ã€`scikit-image`  
- æ ¼å¼è½¬æ¢ï¼š`Pillow`ã€`cairosvg`ï¼ˆSVGè½¬å›¾åƒæ ¸å¿ƒä¾èµ–ï¼‰  
- å¼ é‡è¿ç®—ï¼š`torch`ï¼ˆé€‚é…ComfyUIæ ¸å¿ƒè®¡ç®—ï¼‰  


## ğŸŒŸ å‚ä¸å…±å»º  
æ¬¢è¿æäº¤Issuesåé¦ˆé—®é¢˜ï¼Œæˆ–é€šè¿‡PRè´¡çŒ®æ–°åŠŸèƒ½ï¼æ— è®ºæ˜¯èŠ‚ç‚¹ä¼˜åŒ–ã€æ ¼å¼æ”¯æŒæ‰©å±•è¿˜æ˜¯æ–‡æ¡£å®Œå–„ï¼Œä½ çš„å‚ä¸éƒ½èƒ½è®©è¿™ä¸ªå·¥å…·æ›´å¼ºå¤§ã€‚  

è®©ComfyUI-QINGæˆä¸ºä½ çš„åª’ä½“å¤„ç†åˆ©å™¨ï¼Œç®€åŒ–æµç¨‹ï¼Œé‡Šæ”¾åˆ›æ„ï¼ ğŸš€  


---


<a id="english-intro"></a>
# ğŸ¨ ComfyUI-QING: Unlock Full-Scenario Media Processing Capabilities for ComfyUI  

![ComfyUI-QING Banner](https://picsum.photos/seed/qing/1200/300)  

A powerful all-in-one media processing extension tailored for ComfyUI, simplifying complex workflows involving images, SVG, text, and video. Whether for creative design, animation production, or batch processing, it provides precise toolchain support to unleash your creative potential.  


## âœ¨ Core Highlights  
- **Full SVG Workflow Solution**  
  Seamless management of SVG materials from local file loading to high-quality format conversion, perfectly integrating with image generation workflows.  

- **Precision Mask Engineering**  
  Intelligently split complex masks containing text/graphics, supporting multi-strategy scaling (by long side/short side/pixel count, etc.) while preserving details.  

- **Text Interaction Engine**  
  Multi-group text comparison and conditional judgment enable workflows to branch intelligently based on content, easily implementing scenarios like template switching and content review.  

- **Professional Video Synthesis**  
  Supports formats including mp4/webm/avi/gif/mkv/flv, with built-in encoders (H.264/H.265/AV1/ProRes, etc.) and customizable compression rates and quality parameters.  


## ğŸ¯ Use Cases  
- **Creative Design Workflows**: Integrate SVG materials into image generation for seamless vector-raster integration.  
- **Fine Mask Processing**: Split complex text-containing masks for image editing and region replacement.  
- **Smart Text Branching**: Automatically switch workflows based on text matching results (e.g., content compliance review, template selection).  
- **Video Creation Pipelines**: Sequence frame animation synthesis, multi-format export, and encoder optimization, covering needs from draft to publication.  


## ğŸ› ï¸ Feature Modules  
### 1. SVG Full-Process Toolchain  
| Node Name               | Core Function                                                                 |  
|-------------------------|-------------------------------------------------------------------------------|  
| `Load SVG`              | Reads local SVG files (supports absolute/relative paths) and outputs raw SVG content. |  
| `CustomLoadImageWithFormat` | Unified handling of PNG/JPG/SVG formats, outputting images, masks, and metadata. |  
| `SVG To Image`          | Lossless SVG-to-PNG/JPG conversion with customizable size, scaling strategies, and background color. |  


### 2. Advanced Mask Processing Suite  
| Node Name               | Core Function                                                                 |  
|-------------------------|-------------------------------------------------------------------------------|  
| `MaskSplitterPro`       | Intelligently splits complex masks, preserving text/graphic integrity with auto-grouping and aggressive merging modes. |  
| `MaskScale`             | Scales masks by width/height/longest side/shortest side/total pixels, with interpolation algorithms (nearest/bilinear/lanczos) for clear details. |  


### 3. Text & Video Processing Engine  
| Node Name               | Core Function                                                                 |  
|-------------------------|-------------------------------------------------------------------------------|  
| `TextCompare`           | Supports 3 groups of text comparison with case sensitivity configuration, outputting precise matching results for conditional branching. |  
| `SyntheticVideo`        | Professional sequence frame to video tool supporting formats (mp4/webm/avi/gif/mkv/flv) and encoders (H.264/H.265/AV1/ProRes/VP9, etc.), with customizable compression, frame rate, and quality. |  


## ğŸš€ Quick Start  
### Installation Steps  
1. Clone the repository to ComfyUI's `custom_nodes` directory:  
   ```bash  
   cd ComfyUI/custom_nodes  
   git clone https://github.com/GAOSHI-QING/ComfyUI-QING.git  
   ```  

2. Install dependencies:  
   ```bash  
   cd ComfyUI-QING  
   pip install -r requirements.txt  
   ```  

3. Restart ComfyUI. Nodes will load automatically, found under "Custom Nodes" or "Image" categories.  


## ğŸ“¦ Dependencies  
- Image Processing: `numpy`, `opencv-python`, `scipy`, `scikit-image`  
- Format Conversion: `Pillow`, `cairosvg` (core for SVG-to-image conversion)  
- Tensor Operations: `torch` (compatible with ComfyUI's core computing)  


## ğŸŒŸ Contribute  
Welcome to submit Issues for feedback or PRs to contribute new features! Whether node optimization, format support expansion, or documentation improvement, your participation makes this tool more powerful.  

Let ComfyUI-QING be your media processing tool, simplifying workflows and unlocking creativity! ğŸš€
